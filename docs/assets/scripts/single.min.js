(()=>{function e(e,t,a,n){return e.add({targets:t,strokeDashoffset:[anime.setDashoffset,0],duration:a,delay:anime.stagger(150)},n),e}function t(e,t,a,n){return e.add({targets:t,strokeDashoffset:[0,anime.setDashoffset],duration:a,delay:anime.stagger(150)},n),e}function a(a,n,i=void 0){let s=300;window.config.prefersReducedMotion&&(s=0);let o=i;return i||(o=anime.timeline({easing:"easeInOutCirc"})),o.add({targets:a,opacity:[1,0],duration:1.5*s}),o=t(o,a,s,0),o.add({targets:n,opacity:[0,1],duration:s}),o=e(o,n,s,s+100),o}var n=class{constructor(e,t=void 0,a=void 0){this.wrapper=e,this.ariaElem=t,this.open=this.open.bind(this),this.close=this.close.bind(this),a&&a.addEventListener("click",this.open),this.wrapper.addEventListener("click",this.close),window.addEventListener("pageLeave",this.close)}open(t=void 0){t&&t.preventDefault(),function(t){let a=300;window.config.prefersReducedMotion&&(a=0);let n=anime.timeline({easing:"easeInOutCirc"});t.style.display="grid",t.style.overflow="hidden",n.add({targets:t,opacity:[0,1],duration:a});let i=t.getElementsByClassName("card-popup")[0];window.config.width<800?n.add({targets:i,translateY:["100%","0%"],duration:a},0):n.add({targets:i,translateY:[5,0],duration:a},0),n=e(n,t.querySelectorAll(".svg-cross path"),a,a/2),"svg"==i.firstElementChild.tagName&&(n=e(n,i.getElementsByClassName("path-animate"),a,a+100)),n.finished.then((()=>{t.style.overflow="auto"}))}(this.wrapper),this.ariaElem&&this.ariaElem.setAttribute("aria-expanded","true")}close(e){(e.target==this.wrapper||e.target==window||e.target.classList.contains("svg-cross")||e.target.parentNode.classList.contains("svg-cross"))&&(!function(e){let a=300;window.config.prefersReducedMotion&&(a=0);let n=anime.timeline({easing:"easeInOutCirc"});e.style.overflow="hidden",n=t(n,e.querySelectorAll(".svg-cross path"),a,0),window.config.width<800?n.add({targets:e.getElementsByClassName("card-popup"),translateY:["0%","100%"],duration:a},a):n.add({targets:e.getElementsByClassName("card-popup"),translateY:[0,5],duration:a},a),n.add({targets:e,opacity:[1,0],duration:a},a),n.finished.then((()=>{e.style.display="none"}))}(this.wrapper),this.ariaElem&&this.ariaElem.setAttribute("aria-expanded","false"))}};function i(e){let t=e.target,a=t.parentNode;t.classList.contains("nsfw")&&(a=t,t=e.target.firstElementChild),a.classList.add("nsfw-fadeout")}function s(e){!function(e){navigator.clipboard||function(e){let t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?o():d()}catch(e){d()}document.body.removeChild(t)}(e);navigator.clipboard.writeText(e).then((()=>{o()}),(e=>{d()}))}(e.target.value)}function o(){let e=document.getElementById("sharing-copy-link"),t=e.previousElementSibling,n=e.parentNode;a(t.getElementsByClassName("copy-base"),t.getElementsByClassName("copy-success")),function(e,t,a=0,n){let i=400;window.config.prefersReducedMotion&&(i=0);let s=n;n||(s=anime.timeline({easing:"easeInOutCirc"})),e.style.position="relative";let o=document.createElement("p");o.innerHTML=t,o.classList.add("popup-info-text"),e.appendChild(o),s.add({targets:o,opacity:[0,1],translateY:["100%","120%"],duration:i},"+="+a),s.add({targets:o,opacity:[1,0],translateY:["120%","100%"],duration:i},"+=1000"),s.finished.then((()=>{e.removeChild(o)}))}(n,"CopiÃ©",500)}function d(){let e=document.getElementById("sharing-copy-link").previousElementSibling;a(e.getElementsByClassName("copy-base"),e.getElementsByClassName("copy-error"))}!function(e,t){if(window.addEventListener("load",(function(e){t()})),"complete"==document.readyState){let a=document.getElementById("top");a&&a.dataset.barbaNamespace==e&&t()}window.addEventListener("pageLoad",(function(a){let n=document.getElementById("top");n&&n.dataset.barbaNamespace==e&&t()}))}("single",(()=>{!function(){console.log("single!");let e=document.getElementsByClassName("content-cta")[0];if(e){let t=e.getElementsByClassName("card-popup-wrapper")[0],a=document.getElementById("share-cta");new n(t,a,a),document.getElementById("sharing-copy-link").addEventListener("click",s)}let t=document.getElementsByClassName("nsfw");for(let e of t)e.addEventListener("click",i);if(window.location.href.includes("rechercher")){let e="pagefind-js",t=document.createElement("script");t.src="/pagefind/pagefind-ui.js",t.classList.add(e),t.onload=function(){new PagefindUI({element:"#pagefind-search",showImages:!1})},document.head.appendChild(t)}}()}))})();